datasource db {
  provider = "postgresql"
  url      = env("PAYMENTS_DB_URL")
}

generator client {
  provider = "prisma-client-js"
  output   = "./generated/payments-client"
}

model Payment {
  id             String        @id @default(uuid())
  userId         String        @db.VarChar(40)
  subscriptionId String?       @db.VarChar(40)
  customerId     String        @db.VarChar(40)
  payType        String?       @default("Stripe") @db.VarChar(40)
  subType        String?       @db.VarChar(40)
  status         PaymentStatus @default(PENDING)
  amount         Int?
  createdAt      DateTime
  expiresAt      DateTime?
  deletedAt      DateTime?

  @@index([userId])
  @@map("payments")
}

model Notification {
  id        String       @id @default(uuid())
  userId    String       @db.VarChar(40)
  createdAt DateTime     @default(now())
  expiresAt DateTime?
  type      NotifyStatus
  // status          NotifyStatus

  @@index([userId])
  @@map("notifications")
}

enum PaymentStatus {
  CANCEL
  PENDING
  ACTIVE
}

enum NotifyStatus {
  subscribe
  PENDING
  ACTIVE
}
